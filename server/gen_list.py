#!/usr/bin/python3

import os
import pickle
from pathlib import Path

server_data = {
        "5116": {
            "name" : "怒炉",
            "userlist" : ["68831614","65109862","68810812","65366635","68497815","44359467","68831617","65451369","68831615","68489511","68916317","69301424","65471761","68481874","68481878","65451371","68176623","46990011","65275489","65401288","68175345","65093532","48711112","65483736","44974300","65366628","63218021","68386400","68914062","68481875","65477927","65396879","69301427","69159170","65451368","65477935","65479933","65411218","68386579","65396883","69301434","69087111","65069960","65477934","69270462","65451367","69087699","68831616","69193676","68481876","68202361","65374467","69159172","65868137","65366636","65604943","69270461","69721322","65315166","69087109","67002355","66815947","68810811","66127330","69158470","65396888","65470329","65608123","65366627","65335000","65335003","69159171","69721321","67223946","69379454","69182764","69087698","69160323","69124016","69679353","45964349","43841505","69416787","68862052","68830718","69721323","65223822","65366633","46504175","69459494","65555628","69301429","69637319","69457983","65396875","68831618","65423714","69637320","69721320","69674828","65782765","68831620"],
            "guildlist": ["名将门"]
            },
        }

for server in server_data:
    if not os.path.isdir(server):
        os.mkdir(server)

    pickle.dump(server_data[server]["name"], open('%s/name.pkl' % server, 'wb'))
    if server_data[server]["userlist"]:
        Path(server).mkdir(parents=True, exist_ok=True)
        pickle.dump(server_data[server]["userlist"], open('%s/userlist.pkl' % server, 'wb'))
        print(pickle.load(open('%s/userlist.pkl' % server, 'rb')))
    if server_data[server]["guildlist"]:
        Path(server).mkdir(parents=True, exist_ok=True)
        pickle.dump(server_data[server]["guildlist"], open('%s/guildlist.pkl' % server, 'wb'))
        print(pickle.load(open('%s/guildlist.pkl' % server, 'rb')))

